<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Government Portal - Voting</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/voting.css">
</head>
<body class="admin-theme">
    <!-- Role Badge -->
    <div class="role-badge" id="role-badge">Administrator</div>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-landmark logo-icon"></i>
            <span class="logo-text">GovPortal</span>
        </div>
        <div class="header-actions">
            <div class="user-menu" id="user-menu-toggle">
                <div class="user-avatar">
                    <span>JD</span>
                </div>
                <div class="user-info">
                    <div class="user-name">John Doe</div>
                    <div class="user-role">Administrator</div>
                </div>
                
                <!-- User Dropdown -->
                <div class="user-dropdown" id="user-dropdown">
                    <div class="user-dropdown-header">
                        <div class="user-dropdown-avatar">
                            <span>JD</span>
                        </div>
                        <div class="user-dropdown-info">
                            <div class="user-dropdown-name">John Doe</div>
                            <div class="user-dropdown-role">Administrator</div>
                        </div>
                    </div>
                    <div class="user-dropdown-body">
                        <div class="user-dropdown-item">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </div>
                        <div class="user-dropdown-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </div>
                        <div class="user-dropdown-item" id="switch-role-btn">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Switch to User View</span>
                        </div>
                    </div>
                    <div class="user-dropdown-footer">
                        <button>
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sign Out</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="nav-section">
            <div class="nav-section-title">Main</div>
            <ul class="nav-items">
                <a href="dashboard.html">
                    <li class="nav-item">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </li>
                </a>
                <li class="nav-item">
                    <i class="fas fa-file-alt"></i>
                    <span>Documents</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Calendar</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Statistics</span>
                </li>
            </ul>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Participation</div>
            <ul class="nav-items">
                <li class="nav-item active">
                    <i class="fas fa-vote-yea"></i>
                    <span>Voting</span>
                </li>
                <a href="feedback.html">
                    <li class="nav-item">
                        <i class="fas fa-comment-alt"></i>
                        <span>Feedback</span>
                    </li>
                </a>
                <li class="nav-item">
                    <i class="fas fa-poll"></i>
                    <span>Surveys</span>
                </li>
            </ul>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Services</div>
            <ul class="nav-items">
                <li class="nav-item">
                    <i class="fas fa-id-card"></i>
                    <span>ID Services</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-car"></i>
                    <span>Vehicle Registration</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>Property Records</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Education</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-heartbeat"></i>
                    <span>Healthcare</span>
                </li>
            </ul>
        </div>
    </div>

    <!-- Sidebar Toggle Button -->
    <div class="sidebar-toggle" id="sidebar-toggle">
        <i class="fas fa-bars" id="sidebar-icon"></i>
    </div>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
        <h1 class="page-title">Community Voting</h1>

        <!-- Dashboard Stats -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Active Initiatives</div>
                    <div class="stat-icon blue">
                        <i class="fas fa-vote-yea"></i>
                    </div>
                </div>
                <div class="stat-value" id="active-initiatives">3</div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Your Votes</div>
                    <div class="stat-icon light-blue">
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
                <div class="stat-value" id="your-votes">5</div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Participants</div>
                    <div class="stat-icon green">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
                <div class="stat-value" id="participants">12,458</div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Points Earned</div>
                    <div class="stat-icon orange">
                        <i class="fas fa-award"></i>
                    </div>
                </div>
                <div class="stat-value" id="points-earned-total">50</div>
            </div>
        </div>

        <!-- Voting Tabs -->
        <div class="widget">
            <div class="widget-header">
                <div class="widget-title">Voting Initiatives</div>
                <div class="widget-actions">
                    <button class="widget-action active" data-tab="active-votes">Available to Vote</button>
                    <button class="widget-action" data-tab="my-votes">My Votes</button>
                    <button class="widget-action" data-tab="completed-votes">All Completed</button>
                </div>
            </div>
            
            <div class="widget-content">
                <!-- Active Votes Tab (votes you haven't participated in yet) -->
                <div class="tab-content active" id="active-votes">
                    <div class="vote-cards">
                        <div class="vote-card">
                            <div class="vote-card-header">
                                <span class="vote-category">Urban Planning</span>
                                <span class="vote-deadline">
                                    <i class="fas fa-clock"></i> Expires in 5 days
                                </span>
                            </div>
                            <h3>Park Design in Mărăști District</h3>
                            <p>Vote for one of the three proposals for the new park design in the Mărăști district.</p>
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 1,245 participants
                                </span>
                                <span class="vote-points">
                                    <i class="fas fa-award"></i> +15 points
                                </span>
                            </div>
                            <a href="vote.html"><button class="btn primary vote-btn" data-vote-id="1">Vote Now</button></a>
                        </div>

                        <div class="vote-card">
                            <div class="vote-card-header">
                                <span class="vote-category">Budget</span>
                                <span class="vote-deadline">
                                    <i class="fas fa-clock"></i> Expires in 12 days
                                </span>
                            </div>
                            <h3>Participatory Budgeting 2025</h3>
                            <p>Vote for citizen-proposed projects for the 2025 participatory budget allocation.</p>
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 3,782 participants
                                </span>
                                <span class="vote-points">
                                    <i class="fas fa-award"></i> +20 points
                                </span>
                            </div>
                            <button class="btn primary vote-btn" data-vote-id="2">Vote Now</button>
                        </div>

                        <div class="vote-card">
                            <div class="vote-card-header">
                                <span class="vote-category">Transportation</span>
                                <span class="vote-deadline">
                                    <i class="fas fa-clock"></i> Expires in 8 days
                                </span>
                            </div>
                            <h3>Public Transport Line Extension</h3>
                            <p>Vote for the new public transport routes proposed for the suburban areas.</p>
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 2,103 participants
                                </span>
                                <span class="vote-points">
                                    <i class="fas fa-award"></i> +15 points
                                </span>
                            </div>
                            <button class="btn primary vote-btn" data-vote-id="3">Vote Now</button>
                        </div>
                    </div>
                </div>

                <!-- My Votes Tab (votes you've participated in) -->
                <div class="tab-content" id="my-votes">
                    <h3 class="section-title">Active Votes You've Participated In</h3>
                    <div class="vote-cards">
                        <div class="vote-card my-vote">
                            <div class="vote-card-header">
                                <span class="vote-category">Budget</span>
                                <span class="vote-deadline">
                                    <i class="fas fa-clock"></i> Expires in 18 days
                                </span>
                            </div>
                            <div class="vote-badge">
                                <i class="fas fa-check-circle"></i> You voted
                            </div>
                            <h3>Participatory Budgeting 2025</h3>
                            <p>Vote for citizen-proposed projects for the 2025 participatory budget allocation.</p>
                            
                            <div class="your-vote-info">
                                <h4>Your vote:</h4>
                                <p>Project 3 - Green spaces between buildings</p>
                                <span class="vote-date">Voted on May 2, 2025</span>
                            </div>
                            
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 3,782 participants
                                </span>
                                <span class="vote-points earned">
                                    <i class="fas fa-award"></i> +20 points earned
                                </span>
                            </div>
                            <button class="btn secondary">View Current Results</button>
                        </div>
                    </div>

                    <h3 class="section-title">Completed Votes You've Participated In</h3>
                    <div class="vote-cards">
                        <div class="vote-card my-vote completed">
                            <div class="vote-card-header">
                                <span class="vote-category">Urban Planning</span>
                                <span class="vote-result success">
                                    <i class="fas fa-check-circle"></i> Approved
                                </span>
                            </div>
                            <div class="vote-badge">
                                <i class="fas fa-check-circle"></i> You voted
                            </div>
                            <h3>Historic Building Facades Renovation</h3>
                            <p>Initiative for the renovation of historic building facades in the city center.</p>
                            
                            <div class="your-vote-info">
                                <h4>Your vote:</h4>
                                <p>Option 2 - Renovation with original elements preservation</p>
                                <span class="vote-date">Voted on Apr 10, 2025</span>
                                <span class="vote-winner">This option won with 65% of votes</span>
                            </div>
                            
                            <div class="vote-results">
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 1 - Minimal renovation</span>
                                        <span>25%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 25%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item your-choice">
                                    <div class="vote-result-label">
                                        <span>Option 2 - Renovation with original elements preservation</span>
                                        <span>65%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 65%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 3 - Complete renovation</span>
                                        <span>10%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 10%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 3,542 participants
                                </span>
                                <span class="vote-points earned">
                                    <i class="fas fa-award"></i> +15 points earned
                                </span>
                            </div>
                            <button class="btn secondary">View Details</button>
                        </div>

                        <div class="vote-card my-vote completed">
                            <div class="vote-card-header">
                                <span class="vote-category">Infrastructure</span>
                                <span class="vote-result success">
                                    <i class="fas fa-check-circle"></i> Approved
                                </span>
                            </div>
                            <div class="vote-badge">
                                <i class="fas fa-check-circle"></i> You voted
                            </div>
                            <h3>Farmers Market Modernization</h3>
                            <p>Initiative for the modernization of the farmers market in the Mănăștur district.</p>
                            
                            <div class="your-vote-info">
                                <h4>Your vote:</h4>
                                <p>Option 1 - New construction with modern facilities</p>
                                <span class="vote-date">Voted on Mar 25, 2025</span>
                                <span class="vote-winner">This option won with 72% of votes</span>
                            </div>
                            
                            <div class="vote-results">
                                <div class="vote-result-item your-choice">
                                    <div class="vote-result-label">
                                        <span>Option 1 - New construction with modern facilities</span>
                                        <span>72%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 72%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 2 - Renovation of existing structure</span>
                                        <span>28%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 28%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 2,187 participants
                                </span>
                                <span class="vote-points earned">
                                    <i class="fas fa-award"></i> +10 points earned
                                </span>
                            </div>
                            <button class="btn secondary">View Details</button>
                        </div>
                    </div>
                </div>

                <!-- All Completed Votes Tab -->
                <div class="tab-content" id="completed-votes">
                    <div class="vote-cards">
                        <div class="vote-card past">
                            <div class="vote-card-header">
                                <span class="vote-category">Urban Planning</span>
                                <span class="vote-result success">
                                    <i class="fas fa-check-circle"></i> Approved
                                </span>
                            </div>
                            <h3>Historic Building Facades Renovation</h3>
                            <p>Initiative for the renovation of historic building facades in the city center.</p>
                            
                            <div class="vote-results">
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 1 - Minimal renovation</span>
                                        <span>25%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 25%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 2 - Renovation with original elements preservation</span>
                                        <span>65%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 65%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 3 - Complete renovation</span>
                                        <span>10%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 10%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 3,542 participants
                                </span>
                                <span class="vote-date">
                                    <i class="fas fa-calendar-alt"></i> Completed on Apr 15, 2025
                                </span>
                            </div>
                            <button class="btn secondary">View Details</button>
                        </div>

                        <div class="vote-card past">
                            <div class="vote-card-header">
                                <span class="vote-category">Infrastructure</span>
                                <span class="vote-result success">
                                    <i class="fas fa-check-circle"></i> Approved
                                </span>
                            </div>
                            <h3>Farmers Market Modernization</h3>
                            <p>Initiative for the modernization of the farmers market in the Mănăștur district.</p>
                            
                            <div class="vote-results">
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 1 - New construction with modern facilities</span>
                                        <span>72%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 72%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 2 - Renovation of existing structure</span>
                                        <span>28%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 28%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 2,187 participants
                                </span>
                                <span class="vote-date">
                                    <i class="fas fa-calendar-alt"></i> Completed on Mar 30, 2025
                                </span>
                            </div>
                            <button class="btn secondary">View Details</button>
                        </div>
                        
                        <div class="vote-card past">
                            <div class="vote-card-header">
                                <span class="vote-category">Education</span>
                                <span class="vote-result success">
                                    <i class="fas fa-check-circle"></i> Approved
                                </span>
                            </div>
                            <h3>School Playground Equipment</h3>
                            <p>Initiative to update playground equipment at elementary schools throughout the city.</p>
                            
                            <div class="vote-results">
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 1 - Traditional equipment</span>
                                        <span>35%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 35%"></div>
                                    </div>
                                </div>
                                <div class="vote-result-item">
                                    <div class="vote-result-label">
                                        <span>Option 2 - Modern inclusive equipment</span>
                                        <span>65%</span>
                                    </div>
                                    <div class="vote-result-bar">
                                        <div class="vote-result-progress" style="width: 65%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vote-meta">
                                <span class="vote-participants">
                                    <i class="fas fa-users"></i> 1,856 participants
                                </span>
                                <span class="vote-date">
                                    <i class="fas fa-calendar-alt"></i> Completed on Feb 28, 2025
                                </span>
                            </div>
                            <button class="btn secondary">View Details</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Theme Switcher -->
    <div class="theme-switcher">
        <div class="theme-option admin active" id="admin-theme">
            <i class="fas fa-user-shield"></i>
        </div>
        <div class="theme-option user" id="user-theme">
            <i class="fas fa-user"></i>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Sidebar Toggle Functionality
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebarIcon = document.getElementById('sidebar-icon');
        const mainContent = document.getElementById('main-content');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            sidebarToggle.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
            
            // Change icon based on sidebar state
            if (sidebar.classList.contains('collapsed')) {
                sidebarIcon.classList.remove('fa-bars');
                sidebarIcon.classList.add('fa-chevron-right');
            } else {
                sidebarIcon.classList.remove('fa-chevron-right');
                sidebarIcon.classList.add('fa-bars');
            }
        });

        // Responsive behavior for mobile
        function checkScreenSize() {
            if (window.innerWidth <= 768) {
                sidebar.classList.add('collapsed');
                sidebarToggle.classList.add('collapsed');
                mainContent.classList.add('expanded');
                sidebarIcon.classList.remove('fa-bars');
                sidebarIcon.classList.add('fa-chevron-right');
            } else {
                sidebar.classList.remove('collapsed');
                sidebarToggle.classList.remove('collapsed');
                mainContent.classList.remove('expanded');
                sidebarIcon.classList.remove('fa-chevron-right');
                sidebarIcon.classList.add('fa-bars');
            }
        }

        // Check on load
        checkScreenSize();
        
        // Check on resize
        window.addEventListener('resize', checkScreenSize);
        
        // User Dropdown
        const userMenuToggle = document.getElementById('user-menu-toggle');
        const userDropdown = document.getElementById('user-dropdown');
        
        userMenuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('show');
        });

        document.addEventListener('click', (e) => {
            if (!userMenuToggle.contains(e.target) && !userDropdown.contains(e.target)) {
                userDropdown.classList.remove('show');
            }
        });

        // Tab functionality
        const tabButtons = document.querySelectorAll('.widget-action[data-tab]');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons and contents
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Show corresponding content
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Make table rows clickable
        const tableRows = document.querySelectorAll('.activity-table tbody tr');
        tableRows.forEach(row => {
            row.addEventListener('click', () => {
                // You would typically navigate to a detail page or show a modal
                alert('Viewing details for this activity');
            });
            row.style.cursor = 'pointer';
        });

        // Make nav items clickable
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', function() {
                // Remove active class from all items
                navItems.forEach(navItem => navItem.classList.remove('active'));
                // Add active class to clicked item
                this.classList.add('active');
                
                // You would typically navigate to a new page here
                const itemName = this.querySelector('span').textContent;
            });
        });
        
        // Theme Switcher
        const adminThemeBtn = document.getElementById('admin-theme');
        const userThemeBtn = document.getElementById('user-theme');
        const switchRoleBtn = document.getElementById('switch-role-btn');
        const roleBadge = document.getElementById('role-badge');
        const userRoleText = document.querySelector('.user-role');
        const userDropdownRole = document.querySelector('.user-dropdown-role');
        
        adminThemeBtn.addEventListener('click', () => {
            document.body.classList.remove('user-theme');
            document.body.classList.add('admin-theme');
            adminThemeBtn.classList.add('active');
            userThemeBtn.classList.remove('active');
            roleBadge.textContent = 'Administrator';
            userRoleText.textContent = 'Administrator';
            userDropdownRole.textContent = 'Administrator';
            switchRoleBtn.innerHTML = '<i class="fas fa-exchange-alt"></i><span>Switch to User View</span>';
        });
        
        userThemeBtn.addEventListener('click', () => {
            document.body.classList.remove('admin-theme');
            document.body.classList.add('user-theme');
            adminThemeBtn.classList.remove('active');
            userThemeBtn.classList.add('active');
            roleBadge.textContent = 'User';
            userRoleText.textContent = 'User';
            userDropdownRole.textContent = 'User';
            switchRoleBtn.innerHTML = '<i class="fas fa-exchange-alt"></i><span>Switch to Admin View</span>';
        });
        
        
    </script>
</body>
</html>

