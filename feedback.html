<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Government Portal - Feedback</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/voting.css">
    <link rel="stylesheet" href="/css/feedback.css">
</head>
<body class="admin-theme">
    <!-- Loading Bar -->
    <div class="loading-bar" id="loading-bar"></div>
    
    <!-- Role Badge -->
    <div class="role-badge" id="role-badge">Administrator</div>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-landmark logo-icon"></i>
            <span class="logo-text">GovPortal</span>
        </div>
        <div class="header-actions">
            <div class="user-menu" id="user-menu-toggle">
                <div class="user-avatar">
                    <span>JD</span>
                </div>
                <div class="user-info">
                    <div class="user-name">John Doe</div>
                    <div class="user-role">Administrator</div>
                </div>
                
                <!-- User Dropdown -->
                <div class="user-dropdown" id="user-dropdown">
                    <div class="user-dropdown-header">
                        <div class="user-dropdown-avatar">
                            <span>JD</span>
                        </div>
                        <div class="user-dropdown-info">
                            <div class="user-dropdown-name">John Doe</div>
                            <div class="user-dropdown-role">Administrator</div>
                        </div>
                    </div>
                    <div class="user-dropdown-body">
                        <div class="user-dropdown-item">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </div>
                        <div class="user-dropdown-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </div>
                        <div class="user-dropdown-item" id="switch-role-btn">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Switch to User View</span>
                        </div>
                    </div>
                    <div class="user-dropdown-footer">
                        <button>
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sign Out</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="nav-section">
            <div class="nav-section-title">Main</div>
            <ul class="nav-items">
                <li class="nav-item">
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <i class="fas fa-file-alt"></i>
                    <span>Documents</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Calendar</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Statistics</span>
                </li>
            </ul>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Participation</div>
            <ul class="nav-items">
                <li class="nav-item">
                    <a href="voting.html">
                        <i class="fas fa-vote-yea"></i>
                        <span>Voting</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <i class="fas fa-comment-alt"></i>
                    <span>Feedback</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-poll"></i>
                    <span>Surveys</span>
                </li>
            </ul>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Services</div>
            <ul class="nav-items">
                <li class="nav-item">
                    <i class="fas fa-id-card"></i>
                    <span>ID Services</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-car"></i>
                    <span>Vehicle Registration</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>Property Records</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Education</span>
                </li>
                <li class="nav-item">
                    <i class="fas fa-heartbeat"></i>
                    <span>Healthcare</span>
                </li>
            </ul>
        </div>
    </div>

    <!-- Sidebar Toggle Button -->
    <div class="sidebar-toggle" id="sidebar-toggle">
        <i class="fas fa-bars" id="sidebar-icon"></i>
    </div>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
        <h1 class="page-title">Submit Feedback</h1>
        
        <!-- Dashboard Stats -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Your Submissions</div>
                    <div class="stat-icon blue">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                </div>
                <div class="stat-value" id="your-submissions">5</div>
                <div class="stat-description">
                    <i class="fas fa-arrow-up stat-trend up"></i>
                    <span>2 this month</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Resolved Issues</div>
                    <div class="stat-icon green">
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
                <div class="stat-value" id="resolved-issues">3</div>
                <div class="stat-description">
                    <i class="fas fa-arrow-up stat-trend up"></i>
                    <span>1 this month</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Pending Review</div>
                    <div class="stat-icon orange">
                        <i class="fas fa-clock"></i>
                    </div>
                </div>
                <div class="stat-value" id="pending-review">2</div>
                <div class="stat-description">
                    <span>Avg. response time: 3 days</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">Points Earned</div>
                    <div class="stat-icon purple">
                        <i class="fas fa-award"></i>
                    </div>
                </div>
                <div class="stat-value" id="points-earned-total">35</div>
                <div class="stat-description">
                    <i class="fas fa-arrow-up stat-trend up"></i>
                    <span>10 points this month</span>
                </div>
            </div>
        </div>

        <!-- Feedback Form -->
        <div class="widget">
            <div class="widget-header">
                <div class="widget-title">Submit a Complaint or Suggestion</div>
            </div>
            
            <div class="widget-content">
                <form id="feedback-form" class="feedback-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="feedback-type">Feedback Type <span class="required">*</span></label>
                            <div class="feedback-type-selector">
                                <div class="feedback-type-option">
                                    <input type="radio" id="type-complaint" name="feedback-type" value="complaint" checked>
                                    <label for="type-complaint">
                                        <i class="fas fa-exclamation-circle"></i>
                                        <span>Complaint</span>
                                    </label>
                                </div>
                                <div class="feedback-type-option">
                                    <input type="radio" id="type-suggestion" name="feedback-type" value="suggestion">
                                    <label for="type-suggestion">
                                        <i class="fas fa-lightbulb"></i>
                                        <span>Suggestion</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="feedback-subject">Subject <span class="required">*</span></label>
                            <input type="text" id="feedback-subject" name="subject" placeholder="Enter a brief subject for your feedback" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="feedback-tags">Tags <span class="required">*</span></label>
                            <div class="tags-container">
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-infrastructure" name="tags[]" value="infrastructure">
                                    <label for="tag-infrastructure">Infrastructure</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-public-services" name="tags[]" value="public-services">
                                    <label for="tag-public-services">Public Services</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-transportation" name="tags[]" value="transportation">
                                    <label for="tag-transportation">Transportation</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-environment" name="tags[]" value="environment">
                                    <label for="tag-environment">Environment</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-education" name="tags[]" value="education">
                                    <label for="tag-education">Education</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-healthcare" name="tags[]" value="healthcare">
                                    <label for="tag-healthcare">Healthcare</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-safety" name="tags[]" value="safety">
                                    <label for="tag-safety">Safety & Security</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-administration" name="tags[]" value="administration">
                                    <label for="tag-administration">Administration</label>
                                </div>
                                <div class="tag-item">
                                    <input type="checkbox" id="tag-other" name="tags[]" value="other">
                                    <label for="tag-other">Other</label>
                                </div>
                            </div>
                            <div class="selected-tags" id="selected-tags">No tags selected</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="feedback-description">Description <span class="required">*</span></label>
                            <textarea id="feedback-description" name="description" rows="8" placeholder="Please provide detailed information about your complaint or suggestion" required></textarea>
                            <div class="char-counter">
                                <span id="char-count">0</span>/2000 characters
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="feedback-location">Location (if applicable)</label>
                            <input type="text" id="feedback-location" name="location" placeholder="Enter the location related to your feedback">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Attachments (optional)</label>
                            <div class="file-upload">
                                <input type="file" id="feedback-attachments" name="attachments" multiple>
                                <label for="feedback-attachments" class="file-upload-label">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Choose files or drag & drop here</span>
                                    <span class="file-info">Max 3 files, 5MB each (Images, PDF, DOC)</span>
                                </label>
                                <div class="file-list" id="file-list"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="feedback-anonymous" name="anonymous">
                            <label for="feedback-anonymous">Submit anonymously</label>
                            <div class="tooltip">
                                <i class="fas fa-info-circle"></i>
                                <span class="tooltip-text">Your personal information will not be associated with this feedback. Note that this may limit our ability to follow up with you directly.</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="feedback-terms" name="terms" required>
                            <label for="feedback-terms">I confirm that the information provided is accurate and I agree to the <a href="#">Terms and Conditions</a> <span class="required">*</span></label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn secondary" id="reset-form">Reset</button>
                        <button type="submit" class="btn primary" id="submit-feedback">
                            <i class="fas fa-paper-plane"></i>
                            Submit Feedback
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Success Message (initially hidden) -->
        <div class="widget" id="feedback-success" style="display: none;">
            <div class="widget-content">
                <div class="feedback-success-content">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Your feedback has been successfully submitted!</h3>
                    <p>Thank you for your input. Your feedback has been recorded with reference number <span id="reference-number">FDB-2025-1234</span>.</p>
                    <p>You have received <span id="points-earned">10</span> points for your contribution.</p>
                    <p class="follow-up-note">We will review your feedback and take appropriate action. You can track the status of your submission in the "My Feedback" section.</p>
                    <div class="feedback-success-actions">
                        <button class="btn secondary" id="submit-another">Submit Another Feedback</button>
                        <button class="btn primary" id="view-my-feedback">View My Feedback</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Feedback -->
        <div class="widget">
            <div class="widget-header">
                <div class="widget-title">Your Recent Feedback</div>
                <div class="widget-actions">
                    <button class="widget-action">View All</button>
                </div>
            </div>
            
            <div class="activity-table-container">
                <table class="activity-table">
                    <thead>
                        <tr>
                            <th>Reference</th>
                            <th>Type</th>
                            <th>Subject</th>
                            <th>Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>FDB-2025-1089</td>
                            <td>
                                <span class="feedback-type complaint">
                                    <i class="fas fa-exclamation-circle"></i> Complaint
                                </span>
                            </td>
                            <td>Pothole on Main Street</td>
                            <td>Mar 10, 2025</td>
                            <td><span class="status-badge completed">Resolved</span></td>
                        </tr>
                        <tr>
                            <td>FDB-2025-1052</td>
                            <td>
                                <span class="feedback-type suggestion">
                                    <i class="fas fa-lightbulb"></i> Suggestion
                                </span>
                            </td>
                            <td>Bike lanes on Central Avenue</td>
                            <td>Mar 5, 2025</td>
                            <td><span class="status-badge processing">Under Review</span></td>
                        </tr>
                        <tr>
                            <td>FDB-2025-0987</td>
                            <td>
                                <span class="feedback-type complaint">
                                    <i class="fas fa-exclamation-circle"></i> Complaint
                                </span>
                            </td>
                            <td>Noise from construction site</td>
                            <td>Feb 28, 2025</td>
                            <td><span class="status-badge processing">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>FDB-2025-0954</td>
                            <td>
                                <span class="feedback-type suggestion">
                                    <i class="fas fa-lightbulb"></i> Suggestion
                                </span>
                            </td>
                            <td>Public Wi-Fi in parks</td>
                            <td>Feb 20, 2025</td>
                            <td><span class="status-badge completed">Implemented</span></td>
                        </tr>
                        <tr>
                            <td>FDB-2025-0912</td>
                            <td>
                                <span class="feedback-type complaint">
                                    <i class="fas fa-exclamation-circle"></i> Complaint
                                </span>
                            </td>
                            <td>Streetlight outage</td>
                            <td>Feb 15, 2025</td>
                            <td><span class="status-badge completed">Resolved</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
    
    <!-- Theme Switcher -->
    <div class="theme-switcher">
        <div class="theme-option admin active" id="admin-theme">
            <i class="fas fa-user-shield"></i>
        </div>
        <div class="theme-option user" id="user-theme">
            <i class="fas fa-user"></i>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Sidebar Toggle Functionality
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebarIcon = document.getElementById('sidebar-icon');
        const mainContent = document.getElementById('main-content');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            sidebarToggle.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
            
            // Change icon based on sidebar state
            if (sidebar.classList.contains('collapsed')) {
                sidebarIcon.classList.remove('fa-bars');
                sidebarIcon.classList.add('fa-chevron-right');
            } else {
                sidebarIcon.classList.remove('fa-chevron-right');
                sidebarIcon.classList.add('fa-bars');
            }
        });

        // Responsive behavior for mobile
        function checkScreenSize() {
            if (window.innerWidth <= 768) {
                sidebar.classList.add('collapsed');
                sidebarToggle.classList.add('collapsed');
                mainContent.classList.add('expanded');
                sidebarIcon.classList.remove('fa-bars');
                sidebarIcon.classList.add('fa-chevron-right');
            } else {
                sidebar.classList.remove('collapsed');
                sidebarToggle.classList.remove('collapsed');
                mainContent.classList.remove('expanded');
                sidebarIcon.classList.remove('fa-chevron-right');
                sidebarIcon.classList.add('fa-bars');
            }
        }

        // Check on load
        checkScreenSize();
        
        // Check on resize
        window.addEventListener('resize', checkScreenSize);
        
        // User Dropdown
        const userMenuToggle = document.getElementById('user-menu-toggle');
        const userDropdown = document.getElementById('user-dropdown');
        
        userMenuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('show');
        });

        document.addEventListener('click', (e) => {
            if (!userMenuToggle.contains(e.target) && !userDropdown.contains(e.target)) {
                userDropdown.classList.remove('show');
            }
        });

        // Theme Switcher
        const adminThemeBtn = document.getElementById('admin-theme');
        const userThemeBtn = document.getElementById('user-theme');
        const switchRoleBtn = document.getElementById('switch-role-btn');
        const roleBadge = document.getElementById('role-badge');
        const userRoleText = document.querySelector('.user-role');
        const userDropdownRole = document.querySelector('.user-dropdown-role');
        
        adminThemeBtn.addEventListener('click', () => {
            document.body.classList.remove('user-theme');
            document.body.classList.add('admin-theme');
            adminThemeBtn.classList.add('active');
            userThemeBtn.classList.remove('active');
            roleBadge.textContent = 'Administrator';
            userRoleText.textContent = 'Administrator';
            userDropdownRole.textContent = 'Administrator';
            switchRoleBtn.innerHTML = '<i class="fas fa-exchange-alt"></i><span>Switch to User View</span>';
        });
        
        userThemeBtn.addEventListener('click', () => {
            document.body.classList.remove('admin-theme');
            document.body.classList.add('user-theme');
            adminThemeBtn.classList.remove('active');
            userThemeBtn.classList.add('active');
            roleBadge.textContent = 'User';
            userRoleText.textContent = 'User';
            userDropdownRole.textContent = 'User';
            switchRoleBtn.innerHTML = '<i class="fas fa-exchange-alt"></i><span>Switch to Admin View</span>';
        });
        
        switchRoleBtn.addEventListener('click', () => {
            if (document.body.classList.contains('admin-theme')) {
                document.body.classList.remove('admin-theme');
                document.body.classList.add('user-theme');
                adminThemeBtn.classList.remove('active');
                userThemeBtn.classList.add('active');
                roleBadge.textContent = 'User';
                userRoleText.textContent = 'User';
                userDropdownRole.textContent = 'User';  
                switchRoleBtn.innerHTML = '<i class="fas fa-exchange-alt"></i><span>Switch to Admin View</span>';
            } else {
                document.body.classList.remove('user-theme');
                document.body.classList.add('admin-theme');
                adminThemeBtn.classList.add('active');
                userThemeBtn.classList.remove('active');
                roleBadge.textContent = 'Administrator';
                userRoleText.textContent = 'Administrator';
                userDropdownRole.textContent = 'Administrator';
                switchRoleBtn.innerHTML = '<i class="fas fa-exchange-alt"></i><span>Switch to User View</span>';
            }
            userDropdown.classList.remove('show');
        });

        // Hide loading bar after page load
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loading-bar').style.display = 'none';
            }, 2000);
        });

        // Character counter for description
        const descriptionField = document.getElementById('feedback-description');
        const charCount = document.getElementById('char-count');
        
        descriptionField.addEventListener('input', function() {
            const count = this.value.length;
            charCount.textContent = count;
            
            if (count > 2000) {
                charCount.classList.add('exceeded');
                this.value = this.value.substring(0, 2000);
                charCount.textContent = 2000;
            } else {
                charCount.classList.remove('exceeded');
            }
        });

        // Tags selection
        const tagCheckboxes = document.querySelectorAll('input[name="tags[]"]');
        const selectedTagsDisplay = document.getElementById('selected-tags');
        
        tagCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', updateSelectedTags);
        });
        
        function updateSelectedTags() {
            const selectedTags = Array.from(tagCheckboxes)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.nextElementSibling.textContent);
            
            if (selectedTags.length > 0) {
                selectedTagsDisplay.innerHTML = selectedTags.map(tag => 
                    `<span class="selected-tag">${tag}</span>`
                ).join('');
            } else {
                selectedTagsDisplay.textContent = 'No tags selected';
            }
        }

        // File upload handling
        const fileInput = document.getElementById('feedback-attachments');
        const fileList = document.getElementById('file-list');
        
        fileInput.addEventListener('change', function() {
            fileList.innerHTML = '';
            
            if (this.files.length > 0) {
                for (let i = 0; i < this.files.length; i++) {
                    const file = this.files[i];
                    const fileSize = (file.size / 1024 / 1024).toFixed(2); // Convert to MB
                    
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    
                    // Determine file icon based on type
                    let fileIcon = 'fa-file';
                    if (file.type.startsWith('image/')) {
                        fileIcon = 'fa-file-image';
                    } else if (file.type === 'application/pdf') {
                        fileIcon = 'fa-file-pdf';
                    } else if (file.type.includes('word')) {
                        fileIcon = 'fa-file-word';
                    }
                    
                    fileItem.innerHTML = `
                        <i class="fas ${fileIcon}"></i>
                        <span class="file-name">${file.name}</span>
                        <span class="file-size">${fileSize} MB</span>
                        <button type="button" class="remove-file" data-index="${i}">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    
                    fileList.appendChild(fileItem);
                }
                
                // Add event listeners to remove buttons
                document.querySelectorAll('.remove-file').forEach(button => {
                    button.addEventListener('click', function() {
                        // We can't directly modify the files property, so we'll just clear the input
                        fileInput.value = '';
                        fileList.innerHTML = '';
                    });
                });
            }
        });

        // Form submission
        const feedbackForm = document.getElementById('feedback-form');
        const feedbackSuccess = document.getElementById('feedback-success');
        const submitAnotherBtn = document.getElementById('submit-another');
        const viewMyFeedbackBtn = document.getElementById('view-my-feedback');
        const resetFormBtn = document.getElementById('reset-form');
        
        feedbackForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate form
            if (!validateForm()) {
                return;
            }
            
            // Generate a random reference number
            const refNumber = 'FDB-2025-' + Math.floor(1000 + Math.random() * 9000);
            document.getElementById('reference-number').textContent = refNumber;
            
            // Determine points based on feedback type and content length
            let points = 10;
            if (document.getElementById('feedback-description').value.length > 500) {
                points += 5;
            }
            if (fileInput.files.length > 0) {
                points += 5;
            }
            document.getElementById('points-earned').textContent = points;
            
            // Hide form and show success message
            feedbackForm.parentElement.parentElement.style.display = 'none';
            feedbackSuccess.style.display = 'block';
            
            // Scroll to success message
            feedbackSuccess.scrollIntoView({ behavior: 'smooth' });
        });
        
        function validateForm() {
            let isValid = true;
            
            // Check if at least one tag is selected
            const selectedTags = Array.from(tagCheckboxes).filter(checkbox => checkbox.checked);
            if (selectedTags.length === 0) {
                selectedTagsDisplay.classList.add('error');
                selectedTagsDisplay.textContent = 'Please select at least one tag';
                isValid = false;
            } else {
                selectedTagsDisplay.classList.remove('error');
            }
            
            // Check terms checkbox
            if (!document.getElementById('feedback-terms').checked) {
                isValid = false;
                // Highlight the terms checkbox
                document.getElementById('feedback-terms').parentElement.classList.add('error');
            } else {
                document.getElementById('feedback-terms').parentElement.classList.remove('error');
            }
            
            return isValid;
        }
        
        // Reset form
        resetFormBtn.addEventListener('click', function() {
            feedbackForm.reset();
            fileList.innerHTML = '';
            selectedTagsDisplay.textContent = 'No tags selected';
            selectedTagsDisplay.classList.remove('error');
            document.getElementById('feedback-terms').parentElement.classList.remove('error');
            charCount.textContent = '0';
            charCount.classList.remove('exceeded');
        });
        
        // Submit another feedback
        submitAnotherBtn.addEventListener('click', function() {
            feedbackSuccess.style.display = 'none';
            feedbackForm.parentElement.parentElement.style.display = 'block';
            resetFormBtn.click(); // Reset the form
        });
        
        // View my feedback
        viewMyFeedbackBtn.addEventListener('click', function() {
            // In a real application, this would navigate to a "My Feedback" page
            alert('Navigating to My Feedback page');
        });

        // Make table rows clickable
        const tableRows = document.querySelectorAll('.activity-table tbody tr');
        tableRows.forEach(row => {
            row.addEventListener('click', () => {
                // You would typically navigate to a detail page or show a modal
                const reference = row.cells[0].textContent;
                alert(`Viewing details for feedback ${reference}`);
            });
            row.style.cursor = 'pointer';
        });
    </script>
</body>
</html>

